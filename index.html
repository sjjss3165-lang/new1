<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é›»æ©Ÿç§‘æ™ºæ…§é»é¤çµ±è¨ˆç³»çµ±ğŸ‘©ğŸ¼â€ğŸ³</title>
    <style>
        :root { --primary: #0056b3; --bg: #f8fafc; --text: #1e293b; --success: #10b981; --accent: #facc15; }
        html { scroll-behavior: smooth; }
        body { 
            font-family: "PingFang TC", "Microsoft JhengHei", sans-serif; 
            background-color: var(--bg);
            background-image: radial-gradient(var(--primary) 1px, transparent 0), linear-gradient(90deg, rgba(0,86,179,0.03) 1px, transparent 0), linear-gradient(rgba(0,86,179,0.03) 1px, transparent 0);
            background-size: 40px 40px, 20px 20px, 20px 20px;
            margin: 0; padding: 15px; color: var(--text); 
        }
        .container { max-width: 1200px; margin: 0 auto; background: rgba(255, 255, 255, 0.95); padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05); border: 1px solid rgba(0, 86, 179, 0.2); backdrop-filter: blur(10px); }
        .store-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 15px; margin-bottom: 35px; }
        .store-card { padding: 20px; border: 2px solid #e2e8f0; border-radius: 18px; background: white; cursor: pointer; transition: 0.3s; position: relative; }
        .store-card:hover { border-color: var(--primary); transform: translateY(-5px); box-shadow: 0 5px 15px rgba(0,86,179,0.1); }
        .store-card.active { border-color: var(--primary); background: #f0f7ff; border-width: 3px; }
        .store-card h3 { margin: 0 0 10px 0; color: var(--primary); font-size: 1.25rem; }
        .gear-btn { display: block; width: 100%; padding: 25px; background: linear-gradient(145deg, #0056b3, #004494); color: white; border: none; border-radius: 20px; font-weight: bold; cursor: pointer; font-size: 1.5rem; position: relative; overflow: hidden; margin-bottom: 25px; }
        .gear-btn::before { content: "âš™ï¸"; position: absolute; left: 20px; top: 50%; transform: translateY(-50%); animation: rotateGear 4s linear infinite; }
        @keyframes rotateGear { from { transform: translateY(-50%) rotate(0deg); } to { transform: translateY(-50%) rotate(360deg); } }
        .spec-label { font-size: 1.1rem; color: #1e293b; margin: 20px 0 10px; font-weight: bold; border-left: 6px solid var(--primary); padding-left: 12px; }
        .spec-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 15px; }
        .spec-item { border: 2.5px solid #cbd5e1; color: #475569; padding: 15px 5px; border-radius: 12px; cursor: pointer; text-align: center; font-weight: bold; transition: 0.2s; background: #fff; }
        .spec-item.selected { border-color: var(--primary); background: var(--primary); color: white; transform: scale(1.05); }
        #orderSection { border-top: 3px solid #e2e8f0; padding-top: 35px; margin-top: 20px; }
        .person-card { border: 1px solid #e2e8f0; border-top: 10px solid var(--primary); border-radius: 20px; padding: 25px; margin-bottom: 30px; background: #fff; box-shadow: 0 5px 15px rgba(0,0,0,0.03); }
        .item-box { background: #f1f5f9; padding: 25px; border-radius: 18px; margin-bottom: 15px; border: 1px solid #e2e8f0; }
        select { width: 100%; padding: 20px; border-radius: 12px; border: 2px solid #cbd5e1; font-size: 1.25rem; background: #fff; cursor: pointer; font-weight: bold; }
        .footer { position: sticky; bottom: 0; background: var(--text); color: white; padding: 20px; border-radius: 20px 20px 0 0; display: flex; justify-content: space-between; align-items: center; z-index: 1000; box-shadow: 0 -5px 25px rgba(0,0,0,0.2); }
        .price-final { color: var(--accent); font-size: 2.4rem; font-weight: 900; }
    </style>
</head>
<body>

<div class="container">
    <h1 style="text-align:center; color:var(--text); font-size: 2.2rem; margin-bottom:35px;">âš¡ é›»æ©Ÿç§‘æ™ºæ…§é»é¤çµ±è¨ˆç³»çµ±ğŸ‘©ğŸ¼â€ğŸ³</h1>
    <div class="store-grid" id="storeSelector"></div>

    <div id="orderSection">
        <div id="storeActiveBox" style="display:none; background: #eff6ff; padding: 30px; border-radius: 25px; margin-bottom: 40px; border: 2.5px dashed var(--primary); text-align: center;">
            <h2 id="activeName" style="margin:0; color:var(--primary); font-size: 2rem;"></h2>
            <p id="activeDetail" style="margin:12px 0; font-weight: 900; color: #0369a1; font-size: 1.2rem;"></p>
            <a id="activeMenuLink" href="#" target="_blank" style="display:inline-block; margin-top:10px; background: #0056b3; color: white; padding: 12px 25px; border-radius: 10px; text-decoration: none; font-weight: bold;">ğŸŒ é–‹å•Ÿè©³ç´°èœå–®é€£çµ</a>
        </div>
        <div id="mainOrderArea"></div>
        <button class="gear-btn" onclick="addPerson()">ğŸ‘¤ æ–°å¢äººå“¡ NEW ORDER</button>
    </div>
</div>

<div class="footer">
    <div style="font-size: 1.2rem;">å…±ï¼š<span id="totalItems">0</span> ä»½</div>
    <div>å…¨ç­ç¸½è¨ˆï¼š<span class="price-final">$<span id="totalPrice">0</span></span></div>
</div>
<button style="width:100%; padding:22px; background:#2563eb; color:white; border:none; font-size:1.4rem; font-weight:bold; cursor:pointer; border-radius: 0 0 20px 20px;" onclick="copyResult()">ğŸ“‹ è¤‡è£½ LINE çµ±è¨ˆæ ¼å¼</button>

<script>
const storesData = [
    { name: "50åµ #åŸºéš†æ·±æºª", tel: "02-24683368", link: "https://order.nidin.shop/menu/21216", cat: "drink", ice: ["æ­£å¸¸å†°", "å°‘å†°", "å¾®å†°", "å»å†°", "å¸¸æº«", "ç†±"], sugar: ["æ­£å¸¸ç”œ", "9åˆ†ç”œ", "8åˆ†ç”œ", "7åˆ†ç”œ", "åŠç³–", "å°‘ç³–", "å¾®ç³–", "2åˆ†ç³–", "1åˆ†ç”œ", "ç„¡ç³–"], menu: {"é˜¿è–©å§†ç´…èŒ¶":40,"èŒ‰è‰ç¶ èŒ¶":40,"å››å­£æ˜¥é’èŒ¶":40,"é»ƒé‡‘çƒé¾":40,"æª¸æª¬ç¶ ":60,"æª¸æª¬ç´…":60,"æ¢…ä¹‹ç¶ ":60,"8å†°ç¶ ":60,"æ¡”å­ç¶ ":60,"é¤Šæ¨‚å¤šç¶ ":60,"é®®æŸšç¶ ":75,"èœ‚èœœç¶ ":60,"å¥¶èŒ¶":60,"å¥¶ç¶ ":60,"çƒé¾å¥¶èŒ¶":60,"å››å­£å¥¶é’":60,"é»ƒé‡‘çƒé¾å¥¶":60,"å¸ƒä¸å¥¶èŒ¶":75,"æ³¢éœ¸å¥¶èŒ¶":60,"çç å¥¶èŒ¶":60,"ç‡•éº¥å¥¶èŒ¶":60,"ç´…èŒ¶ç‘ªå¥‡æœµ":60,"ç¶ èŒ¶ç‘ªå¥‡æœµ":60,"çƒé¾ç‘ªå¥‡æœµ":60,"å››å­£ç‘ªå¥‡æœµ":60,"æ³¢éœ¸ç´…èŒ¶æ‹¿éµ":70,"çç ç´…èŒ¶æ‹¿éµ":70,"ç‡•éº¥ç´…èŒ¶æ‹¿éµ":70,"å¯å¯èŠ­è•¾":70,"é˜¿è¯ç”°":60,"å†°æ·‡æ·‹ç´…èŒ¶":60,"èŠ’æœé’":60,"æ³¢éœ¸ç´…/ç¶ /é’/çƒ":50,"çç ç´…/ç¶ /é’/çƒ":50,"ç‡•éº¥ç´…/ç¶ /é’/çƒ":50,"éºµèŒ¶å¥¶èŒ¶":75,"éºµèŒ¶å¥¶ç¶ ":75,"ä»™è‰å¥¶å‡":60}, toppings: {"ä¸åŠ æ–™":0, "æ³¢éœ¸":0, "çç ":0, "æ³¢éœ¸+çç ":0, "å¸ƒä¸(2é¡†)":20, "ä»™è‰å‡":10, "ç‡•éº¥":10} },
    { name: "å¾—æ­£ #åŸºéš†æµ·å¤§", tel: "02-24621016", link: "https://order.nidin.shop/menu/18739", cat: "drink", ice: ["æ­£å¸¸å†°", "å°‘å†°", "å¾®å†°", "å»å†°", "å®Œå…¨å»å†°", "å¸¸æº«", "æº«", "ç†±"], sugar: ["æ­£å¸¸ç”œ", "å°‘ç³–", "åŠç³–", "å¾®ç³–", "äºŒåˆ†ç³–", "ç„¡ç³–"], menu: {"æ˜¥çƒé¾":30,"è¼•çƒé¾":30,"ç„™çƒé¾":30,"ç·‹çƒé¾":35,"ç´…èŒ¶":25,"ç¶ èŒ¶":25,"æª¸æª¬æ˜¥çƒé¾":55,"é¦™æ©™æ˜¥çƒé¾":60,"ç”˜è”—æ˜¥çƒé¾":60,"è‘¡è„æŸšæ˜¥çƒé¾":60,"ç™¾é¦™æœæ˜¥çƒé¾":55,"å„ªé¦™é®®å¥¶èŒ¶":60,"ç„™çƒé¾å¥¶èŒ¶":50,"è¼•çƒé¾å¥¶èŒ¶":50,"æ˜¥çƒé¾å¥¶èŒ¶":50,"ç·‹çƒé¾å¥¶èŒ¶":50,"çƒ˜å‰å¥¶èŒ¶":50,"ç´…èŒ¶é®®å¥¶":55,"è¼•çƒé¾é®®å¥¶":55,"ç„™çƒé¾é®®å¥¶":55,"ç·‹çƒé¾é®®å¥¶":60,"çç å¥¶èŒ¶":55,"é»ƒé‡‘çç å¥¶ç¶ ":55,"èŠå£«å¥¶è“‹æ˜¥çƒé¾":50,"èŠå£«å¥¶è“‹ç„™çƒé¾":50,"èŠå£«å¥¶è“‹ç·‹çƒé¾":55,"èŠå£«å¥¶è“‹ç´…èŒ¶":50,"èŠå£«å¥¶è“‹ç¶ èŒ¶":50,"é…¸è“ç·‹çƒé¾":50,"æŠ¹èŒ¶é®®å¥¶":65,"çƒ˜å‰é®®å¥¶":65}, toppings: {"ä¸åŠ æ–™":0, "ç„™çƒé¾èŒ¶å‡":10, "é»ƒé‡‘çç ":10, "èŠå£«å¥¶è“‹":20} },
    { name: "é¶´èŒ¶æ¨“ #åŸºéš†å¿ ä¸€", tel: "02-24265572", link: "https://order.nidin.shop/menu/19710", cat: "drink", ice: ["æ­£å¸¸","å°‘å†°","å¾®å†°","å»å†°","å®Œå…¨å»å†°","å¸¸æº«","ç†±"], sugar: ["æ­£å¸¸","å°‘ç³–","åŠç³–","å¾®ç³–","ç„¡ç³–"], menu: {"é¶´é ‚ç´…èŒ¶":35,"ç¶ºå¤¢ç´…èŒ¶":40,"èˆ¶ä¾†ç´…èŒ¶":30,"è—ä¼ç´…èŒ¶":45,"æ¡‚é¦™çƒé¾":35,"é‡‘è±é’èŒ¶":30,"ç¥è¾²ç‰›ä¹³":65,"ç¶ºå¤¢é‚£å ¤":60,"åœ°é‹é‚£å ¤":60,"ç¶­å¤šåˆ©äºé‚£å ¤":65,"æ³°å¼å¥¶èŒ¶":65,"æä»å‡å¥¶èŒ¶":65,"é¶´é ‚ç²‰ç²¿å¥¶èŒ¶":60,"çç å¥¶èŒ¶":60,"é’æª¸è˜­é¦™ç¶ ":60,"è”æç´…èŒ¶":50,"é»‘ç³–çç å¥¶èŒ¶":65,"å†¬ç“œé‚£å ¤":55,"å¾©åˆ»å¥¶èŒ¶":50,"å¤§æ­¦å±±æ‹¿éµ":65,"è’™å¤ªå¤æ‹¿éµ":65}, toppings: {"ä¸åŠ æ–™":0, "æä»å‡":15, "èŒ¶å‡":10, "é¶´é ‚ç²‰ç²¿":15, "çç ":10} },
    { name: "æ‹¾æ±£èŒ¶å±‹ #åŸºéš†å»Ÿå£", tel: "02-24247778", link: "https://www.19teahouse.com/", cat: "drink", ice: ["æ­£å¸¸","å°‘å†°","å¾®å†°","å»å†°","å®Œå…¨å»å†°","å¸¸æº«"], sugar: ["æ­£å¸¸","åŠç³–","å¾®ç³–","ç„¡ç³–"], menu: {"æ„›ç‰å…¬çˆµ":45,"çç é®®å¥¶èŒ¶":60,"ç´”èŒ¶(ç¶ /çƒ/é’)":30,"éµè§€éŸ³":30,"ç²‰ç²¿æ¡‚èŠ±":45,"æ‹¾æ±£å¥¶èŒ¶":45,"æ¡èœœç´…èŒ¶":35,"ç´…æŸšç¿ ç‰":55,"çƒé¾å¥¶èŒ¶":45,"ä»™è‰ä¹¾èŒ¶":35,"å†¬ç“œèŒ¶":30,"ç”˜è”—é’èŒ¶":55,"çˆ†çˆ†ç ç¶ èŒ¶":55,"å¸ƒä¸å¥¶èŒ¶":60,"ç´…è±†æ¹¯":55,"çç é†‡å¥¶èŒ¶":50,"æ­è•¾ç³»åˆ—":60}, toppings: {"ä¸åŠ æ–™":0, "ç²‰ç²¿":10, "çç ":10, "æ„›ç‰":10, "çˆ†çˆ†ç ":15, "å¸ƒä¸":15} },
    { name: "å¯ä¸å¯ #åŸºéš†æ·±æºª", tel: "02-24659695", link: "https://kebuke.com/menu/", cat: "drink", ice: ["æ­£å¸¸","å°‘å†°","å¾®å†°","å»å†°","å®Œå…¨å»å†°"], sugar: ["æ­£å¸¸ç”œ","å°‘ç³–","åŠç³–","å¾®ç³–","ç„¡ç³–"], menu: {"ç†Ÿæˆç´…èŒ¶":35,"éº—æ˜¥ç´…èŒ¶":35,"èƒ­è„‚ç´…èŒ¶":40,"æ˜¥èŠ½ç¶ èŒ¶":35,"æ˜¥æ¢…å†°èŒ¶":50,"å†·éœ²æ­è•¾":55,"ç†Ÿæˆæ­è•¾":55,"ç™½ç‰æ­è•¾":60,"ç†Ÿæˆå¥¶èŒ¶":50,"éº—æ˜¥æ­è•¾":55,"èƒ­è„‚é‚£å ¤":60,"æ˜¥èŠ½é‚£å ¤":55,"é›ªè—ç´…èŒ¶":55,"å¢¨ç‰æ­è•¾":60,"é‡‘é‘½é³³æ¢¨ç¶ ":60,"æŸšæœç´…èŒ¶":65,"æ©˜æœç´…èŒ¶":65}, toppings: {"ä¸åŠ æ–™":0, "ç™½ç‰":10, "æ°´ç‰":10} },
    { name: "è¿·å®¢å¤ #åŸºéš†å»Ÿå£", tel: "02-24261766", link: "https://milksha.nidin.shop/menu/491", cat: "drink", ice: ["æ­£å¸¸","å°‘å†°","å¾®å†°","å»å†°"], sugar: ["æ­£å¸¸ç”œ","ä¸ƒåˆ†","åŠç³–","ä¸‰åˆ†","ç„¡ç³–"], menu: {"çç é®®å¥¶":75,"ä¼¯çˆµæ‹¿éµ":65,"å¤§ç”²èŠ‹é ­é®®å¥¶":80,"é’èŒ¶":30,"éº¥èŒ¶":30,"å¨œæ¯ç´…èŒ¶":35,"åˆéœ²ç¶ èŒ¶":30,"ç¥ç€æ‹¿éµ":65,"ç„™èŒ¶æ‹¿éµ":65,"æŸ³ä¸ç¶ ":65,"è‘¡è„æŸšç¶ ":65,"è‰è“é®®å¥¶":80,"æŸ³æ©™æ­è•¾":70,"æ±ºæ˜å¤§éº¥":30,"æ³•èŠ™å¨œå¯å¯":75,"é¤Šæ¨‚å¤šç¶ ":60,"é¦™ç·¹ç´…èŒ¶":40,"èŒ‰é¦™ç¶ èŒ¶":30}, toppings: {"ä¸åŠ æ–™":0, "ç™½ç‰çç ":10, "ä»™è‰å‡":10, "ç¶ èŒ¶å‡":10, "é»ƒé‡‘çç ":10, "è„†å•µå•µ":15} },
    { name: "é¾œè¨˜ #åŸºéš†åº—", tel: "02-24258889", link: "https://guiji.doteat.tw/menu", cat: "drink", ice: ["æ­£å¸¸","å°‘å†°","å¾®å†°","å»å†°"], sugar: ["æ­£å¸¸ç”œ","åŠç³–","å¾®ç³–","ç„¡ç³–"], menu: {"ç´…æŸšç¿¡ç¿ ":75,"è˜‹æœç´…è±":55,"ä¸‰åå››è™Ÿç´…èŒ¶":40,"ç¿¡ç¿ ç¶ èŒ¶":35,"ä¸‰éŸ»å¥¶èŒ¶":55,"é˜¿è–©å§†å¥¶èŒ¶":55,"å†¬ç“œé®®ä¹³":65,"ç§€èŠæ¯":65,"è€æ¬‰æª¸æª¬ç¶ ":55,"å†¬ç“œæª¸æª¬":50,"ç´…æ°´çƒé¾":40,"é®®ä¹³èŒ¶":65,"é‡‘æ¡”æª¸æª¬":55,"é›·å¤¢è—èª¿":60,"ç´…çƒé¾æ‹¿éµ":65,"é»‘æœ¨è€³é®®ä¹³":70}, toppings: {"ä¸åŠ æ–™":0, "çç ":10} },
    { name: "æ¸…å¿ƒç¦å…¨ #æµ·å¤§", tel: "02-24626266", link: "http://chingshin.tw/", cat: "drink", ice: ["æ­£å¸¸","å°‘å†°","å¾®å†°","å»å†°"], sugar: ["æ­£å¸¸ç”œ","åŠç³–","å¾®ç³–","ç„¡ç³–"], menu: {"çƒé¾ç¶ èŒ¶":30,"å„ªå¤šç¶ èŒ¶":45,"éš±è—ç‰ˆ":50,"èœ‚èœœç´…èŒ¶":50,"éŒ«è˜­ç´…èŒ¶":30,"ç‰¹ç´šç¶ èŒ¶":30,"çç å¥¶èŒ¶":50,"å†¬ç“œèŒ¶":30,"ä»™è‰å‡å¥¶èŒ¶":50,"æ¢…å­ç¶ èŒ¶":45,"çç é®®å¥¶èŒ¶":60,"å¸ƒä¸å¥¶èŒ¶":60,"ç¿¡ç¿ æª¸æª¬":50,"è–‘æ¯èŒ¶":50,"å†°æ·‡æ·‹ç´…èŒ¶":50,"æƒ…äººèŒ¶":45,"æ¤°æœå¥¶èŒ¶":45}, toppings: {"ä¸åŠ æ–™":0, "çç ":10, "æ¤°æœ":10, "å¸ƒä¸":20, "ä»™è‰å‡":10} },
    { name: "äº”æ¡è™Ÿ #åŸºéš†ä»ä¸‰", tel: "02-24283616", link: "https://www.wootea.com/menu/", cat: "drink", ice: ["æ­£å¸¸","å°‘å†°","å¾®å†°","å»å†°"], sugar: ["æ­£å¸¸","åŠç³–","å¾®ç³–","ç„¡ç³–"], menu: {"äº”æ¡èŒ¶":35,"æä»å‡äº”æ¡èŒ¶":45,"ç¶ èŒ¶å‡äº”æ¡èŒ¶":45,"é’èŒ¶å‡äº”æ¡èŒ¶":45,"ä»™è‰å‡å¥¶èŒ¶":50,"è€å¯¦äººç´…èŒ¶":35,"æ‹›ç‰Œå¥¶èŒ¶":50,"æœ€æ„›å¥¶èŒ¶":50,"æ³°å¼å¥¶èŒ¶":65,"è”æå†°èŒ¶":60,"ç‰å ‚æ˜¥èŒ¶":35,"ä¸€æŠŠé’":35}, toppings: {"ä¸åŠ æ–™":0, "ç¶ èŒ¶å‡":10, "å°çç ":10, "æä»å‡":15, "ä»™è‰å‡":10, "å¤šå¤š":10} },
    { name: "æœ‰é£² #åŸºéš†å»Ÿå£", tel: "02-24258827", link: "https://www.youindrink.com/pages/menu", cat: "drink", ice: ["æ­£å¸¸","å°‘å†°","å¾®å†°","å»å†°"], sugar: ["æ­£å¸¸","åŠç³–","å¾®ç³–","ç„¡ç³–"], menu: {"æ—ºæ—ºä¾†æ°´æœèŒ¶":65,"ç²‰ç²¿ç´…":40,"ç„¦ç³–æ‹¿éµ":75,"æŸ³æ©™ç¶ èŒ¶":60,"æ†¨å‰å¥¶éœœ":70,"ç‚å¤èŠ’æœ":75,"å¸ƒä¸å¥¶èŒ¶":70,"ç¶“å…¸ç´…èŒ¶":35,"å››å­£æ˜¥":35,"å„ªé…ªä¹³ç¶ èŒ¶":60,"å¥¶èŒ¶":50,"çç é®®å¥¶èŒ¶":65,"ç„™èŒ¶æ‹¿éµ":70,"é‡‘è±é’èŒ¶":35,"å¤æ—©å‘³èŒ¶é£²":35}, toppings: {"ä¸åŠ æ–™":0, "ç²‰ç²¿":10, "çç ":10, "å¸ƒä¸":15} },
    { name: "æ—é¦™æª¸ #åŸºéš†åº—", tel: "02-24270618", link: "https://www.lamheunglingoverseas.com/cz", cat: "drink", ice: ["æ­£å¸¸","å°‘å†°","å¾®å†°","å»å†°"], sugar: ["æ­£å¸¸","åŠç³–","å¾®ç³–","ç„¡ç³–"], menu: {"æ‹›ç‰Œæª¸æª¬èŒ¶":55,"ç¶ å¦æª¸æª¬èŒ¶":55,"æ³°å¼æª¸æª¬èŒ¶":60,"æ‰‹æ‰“æª¸æª¬ç¶ ":55,"ç«ç‘°æª¸æª¬èŒ¶":60,"é‡‘é³³æª¸æª¬èŒ¶":60,"é´¨å±é¦™æª¸æª¬èŒ¶":65,"é»‘é‡‘æª¸æª¬èŒ¶":60,"æª¸æª¬ç´…èŒ¶":55,"é¹¹æª¸ä¸ƒ":60,"é›™æ‹¼æª¸æª¬èŒ¶":65}, toppings: {"ä¸åŠ æ–™":0} },
    { name: "Mr.Wish #åŸºéš†å»Ÿå£", tel: "02-24273456", link: "https://www.mr-wish.com/load_page/get_menu_page", cat: "drink", ice: ["æ­£å¸¸","å°‘å†°","å¾®å†°","å»å†°"], sugar: ["æ­£å¸¸","åŠç³–","å¾®ç³–","ç„¡ç³–"], menu: {"æ°´æœèŒ¶":60,"å…‰æœèŒ¶":65,"çç å¥¶èŒ¶":50,"æ„›æ–‡èŠ’æœå†°æ²™":85,"è‰è“åšå¥¶":80,"é‡‘é‘½é³³æ¢¨ç¶ ":60,"é‡è“çº–æœé£²":65,"ç™½ç³–è„†è„†é‚£å ¤":70,"ç”˜è”—é’èŒ¶":60,"å†¬ç“œæª¸æª¬":50,"èœœæ¡ƒæœç²’èŒ¶":65,"ç†Ÿæˆç´…èŒ¶":30,"èŒ‰é¦™ç¶ èŒ¶":30}, toppings: {"ä¸åŠ æ–™":0, "çç ":10, "æ¤°æœ":10, "æ„›ç‰":10, "è˜†è–ˆ":10} },
    { name: "Coco #åŸºéš†æµ·æ´‹", tel: "02-24620586", link: "https://coco-tea.nidin.shop/menu/21237", cat: "drink", ice: ["æ­£å¸¸","å°‘å†°","å¾®å†°","å»å†°"], sugar: ["æ­£å¸¸","åŠç³–","å¾®ç³–","ç„¡ç³–"], menu: {"å¥¶èŒ¶ä¸‰å…„å¼Ÿ":55,"ç™¾é¦™é›™éŸ¿ç‚®":50,"çç å¥¶èŒ¶":45,"å¸ƒä¸å¥¶èŒ¶":55,"è“æœæ´¾å°":60,"æ˜Ÿç©ºè‘¡è„":75,"è¥¿è°·ç±³å¥¶èŒ¶":50,"èŒ‰è‰ç¶ èŒ¶":35,"å››å­£æ˜¥":35,"èŠåœ’ç´…èŒ¶":35,"èŠ‹é ­ç‰›å¥¶":70,"QQå¥¶èŒ¶":50,"æª¸æª¬ç¶ èŒ¶":50,"å·§å…‹åŠ›æ­è•¾":55}, toppings: {"ä¸åŠ æ–™":0, "çç ":10, "å¸ƒä¸":15, "æ¤°æœ":10, "è¥¿è°·ç±³":10} },
    { name: "Comebuy #æ–°è±", tel: "02-24695668", link: "https://drive.google.com/file/d/1Rq51uQuxEv4VDxwoB-hDczLhqECx9Gu2/view", cat: "drink", ice: ["æ­£å¸¸","å°‘å†°","å¾®å†°","å»å†°"], sugar: ["æ­£å¸¸","åŠç³–","å¾®ç³–","ç„¡ç³–"], menu: {"æµ·ç¥":40,"è˜‹æœå†°èŒ¶":55,"è”æç‰éœ²":55,"çµ•ä»£é›™Qå¥¶èŒ¶":55,"çº–ç¾å°ç´«è˜‡":50,"ç™¾é¦™æœæ–æœæ¨‚":55,"ç©ç«":40,"éŒ«è˜­ç´…èŒ¶":35,"èŒ‰è‰ç¶ èŒ¶":35,"é›™Qå¥¶èŒ¶":55,"ç²‰æ¢å¥¶èŒ¶":55,"çƒé¾å¥¶èŒ¶":50,"ç«ç‘°é’èŒ¶":45,"æª¸æª¬å†°æ²™":55}, toppings: {"ä¸åŠ æ–™":0, "ç²‰æ¢":10, "çç ":10, "æ¤°æœ":10, "æ„›ç‰":10} },
    { name: "æ°´é›²å ‚ #ç¾©äºŒåº—", tel: "02-24261227", link: "https://www.drinkstore.com.tw/web/product/product.jsp", cat: "drink", ice: ["æ­£å¸¸","å°‘å†°","å¾®å†°","å»å†°"], sugar: ["æ­£å¸¸","åŠç³–","å¾®ç³–","ç„¡ç³–"], menu: {"é»‘ç³–çç é®®å¥¶":65,"ç´”èŒ¶(ç´…/ç¶ /é’)":30,"æ°´æœèŒ¶":60,"æ²–ç¹©é»‘ç³–å¥¶èŒ¶":55,"èŠå£«å¥¶è“‹ç´…èŒ¶":60,"é‡‘é‘½é³³æ¢¨ç¶ ":60,"ç«ç‘°æ‹¿éµ":65,"ä»™è‰å¥¶å‡":50,"èŠ‹é ­é®®å¥¶":75,"ç™¾é¦™é›™Q":55,"è‘¡è„æŸšç¶ ":60}, toppings: {"ä¸åŠ æ–™":0, "çç ":10, "æ¤°æœ":10, "èŒ¶å‡":10, "ä»™è‰":10} },
    { name: "å¤§ç¢—ç‰›è‚‰éºµ", tel: "0224633396", link: "https://drive.google.com/file/d/12wii4UGfDTHYECO5ObXyS6qutY9qRcaX/view", cat: "food", ice: ["ç„¡"], sugar: ["ç„¡"], menu: {"ç‰›è‚‰éºµ(å°)":130, "ç‰›è‚‰éºµ(å¤§)":170, "ç‰›è‚‰ä¹¾éºµ(å°)":130, "ç‰›è‚‰ä¹¾éºµ(å¤§)":170, "ç‰›è‚‰å†¬ç²‰(å°)":130, "ç‰›è‚‰å†¬ç²‰(å¤§)":170, "ç‰›è‚‰æ¹¯éºµ(å°)":80, "ç‰›è‚‰æ¹¯éºµ(å¤§)":130, "ç‰›è‚‰æ¹¯å†¬ç²‰(å°)":80, "ç‰›è‚‰æ¹¯å†¬ç²‰(å¤§)":130, "ç‰›è‚‰æ¹¯é¤ƒ(å°)":110, "ç‰›è‚‰æ¹¯é¤ƒ(å¤§)":150, "æ°´é¤ƒ(ä¸€é¡†$7/10é¡†èµ·)":70, "é…¢é†¬éºµ(å°)":80, "é…¢é†¬éºµ(å¤§)":110, "ç‰¹è£½æ¶¼éºµ(å°)":60, "ç‰¹è£½æ¶¼éºµ(å¤§)":80, "é…¢é†¬æ¶¼éºµ(å°)":60, "é…¢é†¬æ¶¼éºµ(å¤§)":80, "ä¹¾éºµ(å°)":50, "ä¹¾éºµ(å¤§)":70, "ç´…æ²¹æŠ„æ‰‹":80, "ç‰›è‚‰æ¹¯":130, "é¤›é£©æ¹¯":50, "è²¢ä¸¸æ¹¯":50, "ç‰›è…±è‚‰":80, "ç‰›è‚š":80, "ç®­ç­":80, "èŠ±ç”Ÿ":50, "å°é­šä¹¾":50, "æ¶¼æ‹Œå°é»ƒç“œ":50, "è±¬è€³æœµ":50, "ç´ è‚Œ":50, "éŸ“å¼æ³¡èœ":50, "æ³¡èœ":40, "çš®è›‹è±†è…":40, "å¹²çµ²":40, "èŠ±å¹²":35, "é»‘è±†å¹²":35, "æµ·å¸¶":35}, toppings: {"æ­£å¸¸":0, "å…¬å®¶åƒåŠ $40èµ·":40} },
    { name: "éº¥å…‹éºµç·š", tel: "0224236667", link: "https://maps.app.goo.gl/DNe9c5xbqTsyfBGE7", cat: "food", ice: ["ç„¡"], sugar: ["ç„¡"], menu: {"éºµç·šç„¿(å°)":45, "éºµç·šç„¿(å¤§)":65, "å…¨ç„¿(å°)":70, "å…¨ç„¿(å¤§)":120, "èšµä»”ç…":65, "è¦ä»ç…":65, "åœ“(è‚‰åœ“)":40}, toppings: {"æ­£å¸¸":0} },
    { name: "è’Ÿè’»å±‹", tel: "0224229000", link: "https://drive.google.com/file/d/1T08WgpxufhYVOJ8sbfc7gvpthvoDaacY/view", cat: "food", ice: ["å†·", "ç†±"], sugar: ["ç„¡"], menu: {"ç¶œåˆå‰‰å†°(åŠ 4ç¨®é…æ–™)":85, "æ—¥å¼é‡‘æ™‚å†°":90, "ç´…è±†(ç¶ è±†)ç‰›å¥¶å†°":95, "èŠ±ç”Ÿç‰›å¥¶å†°":95, "ç´…è±†é®®å¥¶é…ªç‰›å¥¶å†°":135, "ç´…è±†å†°æ·‡æ·‹ç‰›å¥¶å†°":140, "è‡ªè£½è‰è“é†¬ç‰›å¥¶å†°(å­£ç¯€é™å®š)":130, "è’Ÿè’»ç¶ è±†æ¹¯/è–ä»":50, "è’Ÿè’»ç´…è±†æ¹¯/è–ä»":55, "ç²‰ç²¿ç´…è±†æ¹¯":55, "è’Ÿè’»è–ä»æ¹¯":50, "è’Ÿè’»è“®å­/ç´…è±†/ç¶ è±†":70, "è’Ÿè’»ä»™è‰å‡/è–ä»":50, "è’Ÿè’»æœ‰æ©Ÿè±†èŠ±":45, "ç¶œåˆæœ‰æ©Ÿè±†èŠ±":50, "æœ‰æ©Ÿè±†æ¼¿è±†èŠ±":45, "ç¾äººæ¹¯(è±†æ¼¿/è–ä»/è“®å­)":70, "è’Ÿè’»ç™½æœ¨è€³/åŠ è“®å­":60, "è’Ÿè’»æ¤°ç±³éœ²":50, "è’Ÿè’»ç´«è˜‡æ¢…":50, "è’Ÿè’»è˜†è–ˆèœœ":50, "ç„¦ç³–è’Ÿè’»ç²‰åœ“":50, "æ¤°é¦™ç´…è±†é»‘ç³¯ç±³":55, "ä»™è‰å¥¶å‡":45, "è’Ÿè’»å¥¶èŒ¶/çç å¥¶èŒ¶":40, "ä»™è‰å¥¶èŒ¶/å¸ƒä¸å¥¶èŒ¶":35, "é¦™é›æ’":85, "é›è…¿":90, "é¦™é›ç¿…":35, "ç„¡éª¨é›æ’":40, "å¡å•¦é›è…¿ä¸":40, "éº¥å…‹é›å¡Š":40, "å¤©å©¦ç¾…":35, "è–¯æ¢(é¦¬éˆ´è–¯/åœ°ç“œ)":40, "æ´‹è”¥åœˆ":40, "é»ƒé‡‘çƒ(åœ°ç“œ)":30, "å±±è—¥èŠ‹æ³¥çƒ":30, "ç‚¸æ¹¯åœ“":30, "æœˆäº®è¦é¤…":45, "ç†±ç‹—":25, "è–¯é¤…":20, "é›ªé­šå¡Š":60, "é¦¬éˆ´è–¯ä¸¸":30, "è˜¿è””ç³•":35, "å»£å³¶ç‰¡è £/æ—¥å¼ç‚¸è¦":60, "ç‰ç±³å¯æ¨‚é¤…":35}, toppings: {"æ­£å¸¸":0, "åŠ é…æ–™+10":10, "åŠ è“®å­+15":15, "åŠ æœ¨è€³+10":10} },
    { name: "è±†ä¹¾åŒ…ç¥¥è±è¡—", tel: "0224201711", link: "https://drive.google.com/file/d/18VeBd_w6HFvBD321t7Iu-QaNfko5CljQ/view", cat: "food", ice: ["ç„¡"], sugar: ["ç„¡"], menu: {"è±†å¹²åŒ…(2å€‹)":50, "ç‚’éºµ(å°)":35, "ç‚’éºµ(å¤§)":50, "ç‚’ç±³ç²‰(å°)":35, "ç‚’ç±³ç²‰(å¤§)":50, "æ‹›ç‰Œæ¹¯":65, "ç¶œåˆæ¹¯":50, "é­šä¸¸æ¹¯":50, "é­·é­šç„¿":50, "ä¹¾éºµ":35, "å†¬ç²‰æ¹¯":35, "è±†å¹²åŒ…(8å€‹ç›’è£)":140, "é­šä¸¸(åŠæ–¤)":90, "é­·é­š(åŠæ–¤)":100}, toppings: {"æ­£å¸¸":0} },
    { name: "ç¾é¦™é½‹æ»·å‘³", tel: "0224263357", link: "https://drive.google.com/file/d/1pjCLx6xivI5e_Ud1zmMglOFFZtsjDFij/view", cat: "food", ice: ["ç„¡"], sugar: ["ç„¡"], menu: {"å¥—é¤ SET A (ç‹å­éºµ/å¤©å©¦ç¾…/è±¬è¡€ç³•ç­‰)":190, "å¥—é¤ SET B (çƒé¾éºµ/å¤©å©¦ç¾…/è±¬è¡€ç³•ç­‰)":195, "å¥—é¤ SET C (è’¸ç…®éºµ/å¤©å©¦ç¾…/è±¬è¡€ç³•ç­‰)":195, "æ»·å‘³æ‹¼ç›¤":100, "æ°´é¤ƒ(10é¡†)":60, "ä¹¾æ‹Œéºµ":50}, toppings: {"æ­£å¸¸":0, "åŠ è¾£":0} },
    { name: "é‚±è¨˜ç‚’éºµï¼ˆæ±ä¿¡åº—ï¼‰", tel: "0224680335", link: "https://drive.google.com/file/d/1zuEI_w-zwS9rIGRcekHsb_QXll1twyg3/view", cat: "food", ice: ["æ²¹éºµ", "çƒé¾", "ç±³ç²‰", "å†¬ç²‰", "ç²„æ¢", "ç²¥"], sugar: ["ç„¡"], menu: {"ç´ ç‚’é£¯":75, "è›‹ç‚’é£¯":75, "è‚‰çµ²ç‚’é£¯":75, "è¦ä»ç‚’é£¯":90, "é«˜éº—èœç‚’é£¯":75, "æ»·è‚‰é£¯(å¤§)":45, "æ»·è‚‰é£¯(å°)":25, "ç´ é£Ÿéºµ":75, "è‚‰çµ²éºµ":75, "è›¤èœŠéºµ":90, "é®®è¦éºµ":90, "è‚‰ç‰‡éºµ":90, "è±¬è‚éºµ":90, "ä»€éŒ¦éºµ":90, "è±¬å¿ƒéºµ":90, "èšµä»”éºµ":110, "æµ·é®®éºµ":110, "è›‹èŠ±æ¹¯":30, "è›¤èœŠæ¹¯":50, "è‚‰ç‰‡æ¹¯":50, "è±¬è‚æ¹¯":50, "ä»€éŒ¦æ¹¯":50, "è±¬å¿ƒæ¹¯":65, "èšµä»”æ¹¯":80, "ç‚’é’èœ(å¤§)":70, "è”¥è›‹(å¤§)":70, "ç¶œåˆæ»·å‘³":40, "æ»·è›‹":15}, toppings: {"æ­£å¸¸":0, "å’–å“©å£å‘³+5":5} },
    { name: "å»–åª½åª½éºµé£¯é¤¨-æ–°è±åº—", tel: "0224680789", link: "https://drive.google.com/file/d/1j_SjavYZbnJjJHCJNSzVQaAzf_1e5Km0/view", cat: "food", ice: ["ç„¡"], sugar: ["ç„¡"], menu: {"æ‰“æ‹‹è±¬ç‚’é£¯":120, "æšå·ç‚’é£¯":105, "è¦ä»ç‚’é£¯":105, "è‚‰çµ²ç‚’é£¯":90, "æµ·é®®ç‡´é£¯":120, "ä»€éŒ¦ç‚’éºµ":110, "è±¬è‚æ¹¯éºµ":100, "è”¥è›‹":110, "ç´…ç‡’è±†è…":130, "ä»€éŒ¦æ¹¯å¹´ç³•":130, "ç•¶æ­¸ç¾Šè‚‰æ¹¯éºµ":110}, toppings: {"æ­£å¸¸":0, "åŠ éºµ/é£¯+20":20, "åŠ å¹´ç³•+35":35} }
];

let currentStore = null;
let orders = JSON.parse(localStorage.getItem('ee_ultimate_pro_final_v1')) || [];

function init() {
    const grid = document.getElementById('storeSelector');
    storesData.sort((a, b) => a.name.localeCompare(b.name, 'zh-Hant')).forEach((s, idx) => {
        grid.innerHTML += `<div class="store-card" id="card-${idx}" onclick="selectStore(${idx})"><h3>${s.name}</h3><p>ğŸ“ ${s.tel}</p></div>`;
    });
    render();
}

function selectStore(idx) {
    currentStore = storesData[idx];
    document.querySelectorAll('.store-card').forEach(c => c.classList.remove('active'));
    document.getElementById(`card-${idx}`).classList.add('active');
    document.getElementById('storeActiveBox').style.display = 'block';
    document.getElementById('activeName').innerText = currentStore.name;
    document.getElementById('activeDetail').innerText = `é›»è©±ï¼š${currentStore.tel}`;
    document.getElementById('activeMenuLink').href = currentStore.link;
    document.getElementById('orderSection').scrollIntoView({ behavior: 'smooth' });
    render();
}

function addPerson() {
    const name = prompt("è¼¸å…¥äººå“¡ç·¨è™Ÿ/å§“åï¼š");
    if (!name) return;
    orders.push({ name, items: [{ drink: "", sugar: "æ­£å¸¸", ice: "æ­£å¸¸", topping: "ä¸åŠ æ–™", price: 0 }], paid: 0 });
    save();
}

function update(pIdx, iIdx, field, val) {
    const it = orders[pIdx].items[iIdx];
    it[field] = val;
    if (currentStore && (field === 'drink' || field === 'topping')) {
        it.price = (currentStore.menu[it.drink] || 0) + (currentStore.toppings[it.topping] || 0);
    }
    save();
}

function save() {
    localStorage.setItem('ee_ultimate_pro_final_v1', JSON.stringify(orders));
    render();
}

function render() {
    const container = document.getElementById('mainOrderArea');
    container.innerHTML = '';
    let totalP = 0, totalC = 0;

    orders.forEach((p, pIdx) => {
        let pSum = 0;
        const itemsHtml = p.items.map((it, iIdx) => {
            pSum += it.price; totalC++;
            let dOpts = `<option value="">-- ä¸‹æ‹‰é¸æ“‡è©²åº—å…¨å“é … --</option>`;
            if(currentStore) Object.keys(currentStore.menu).sort().forEach(d => dOpts += `<option value="${d}" ${it.drink===d?'selected':''}>${d} ($${currentStore.menu[d]})</option>`);
            
            let iceGrid = currentStore && currentStore.ice[0] !== "ç„¡" ? `<div class="spec-label">${currentStore.cat==='food'?'ç¨®é¡/éºµé«”':'æº«åº¦/å†°åº¦'}</div><div class="spec-grid">${currentStore.ice.map(l => `<div class="spec-item ${it.ice===l?'selected':''}" onclick="update(${pIdx},${iIdx},'ice','${l}')">${l}</div>`).join('')}</div>` : "";
            let sugarGrid = currentStore && currentStore.sugar[0] !== "ç„¡" ? `<div class="spec-label">ç³–åº¦/ç”œåº¦</div><div class="spec-grid">${currentStore.sugar.map(l => `<div class="spec-item ${it.sugar===l?'selected':''}" onclick="update(${pIdx},${iIdx},'sugar','${l}')">${l}</div>`).join('')}</div>` : "";

            return `<div class="item-box">
                <select onchange="update(${pIdx},${iIdx},'drink',this.value)">${dOpts}</select>
                ${iceGrid} ${sugarGrid}
                <div class="spec-label">åŠ æ–™/å®¢è£½å‚™è¨»</div>
                <select onchange="update(${pIdx},${iIdx},'topping',this.value)">${Object.keys(currentStore ? currentStore.toppings : {}).map(t=>`<option value="${t}" ${it.topping===t?'selected':''}>+${t} (+$${currentStore.toppings[t]})</option>`).join('')}</select>
                <div style="text-align:right; font-weight:bold; color:var(--primary); margin-top:15px; font-size:1.3rem;">å–®é …å°è¨ˆï¼š$${it.price}</div>
            </div>`;
        }).join('');

        totalP += pSum;
        container.innerHTML += `<div class="person-card">
            <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:3.5px solid #f1f5f9; padding-bottom:15px; margin-bottom:20px;">
                <strong style="font-size:1.5rem;">ğŸ‘¤ ${p.name}</strong> 
                <span style="color:var(--primary); font-weight:900; font-size:1.7rem;">æ‡‰ä»˜ï¼š$${pSum}</span>
            </div>
            ${itemsHtml}
            <button onclick="orders[${pIdx}].items.push({drink:'',sugar:'æ­£å¸¸',ice:'æ­£å¸¸',topping:'ä¸åŠ æ–™',price:0});render()" style="color:blue; background:none; border:none; cursor:pointer; font-weight:bold; width:100%; border:2px dashed #cbd5e1; padding:20px; border-radius:15px; margin-bottom:25px; font-size:1.1rem;">+ å¹«æ­¤äººåŠ é» (ç´¯åŠ é‡‘é¡)</button>
            <div style="background:#fff7ed; padding:20px; border-radius:15px; display:flex; justify-content:space-between; align-items:center; border:2.5px solid #ffedd5;">
                <span style="font-size:1.2rem; font-weight:bold;">æ”¶ç¾ï¼š<input type="number" style="width:100px; padding:12px; border-radius:10px; border:2.5px solid #ddd;" value="${p.paid}" oninput="orders[${pIdx}].paid=this.value;render()"></span>
                <span style="color:#c2410c; font-weight:900; font-size:1.7rem;">æ‰¾éŒ¢ï¼š${p.paid-pSum > 0 ? p.paid-pSum : 0} å…ƒ</span>
                <button onclick="if(confirm('ç§»é™¤ï¼Ÿ')){orders.splice(${pIdx},1);save();}" style="color:gray; border:none; background:none; cursor:pointer;">[ç§»é™¤]</button>
            </div>
        </div>`;
    });
    document.getElementById('totalPrice').innerText = totalP;
    document.getElementById('totalItems').innerText = totalC;
}

function copyResult() {
    let text = `ğŸ“‹ ã€é›»æ©Ÿç§‘æ™ºæ…§é»é¤çµ±è¨ˆæ‘˜è¦ã€‘\nğŸ“ åº—å®¶ï¼š${currentStore ? currentStore.name : 'æœªé¸'}\n------------------\n`;
    orders.forEach(p => {
        let s = 0; text += `ğŸ‘¤ ${p.name}ï¼š\n`;
        p.items.forEach(i => { text += `  â— ${i.drink} (${i.sugar}/${i.ice}) å‚™è¨»:${i.topping} $${i.price}\n`; s += i.price; });
        text += `  ğŸ’° å€‹äººç´¯åŠ å°è¨ˆï¼š$${s}\n------------------\n`;
    });
    text += `ğŸ”¥ å…¨ç­é»è³¼ç¸½é¡ï¼š$${document.getElementById('totalPrice').innerText}`;
    navigator.clipboard.writeText(text); alert("çµ±è¨ˆæ ¼å¼å·²è¤‡è£½ï¼å¯è²¼åˆ° LINEã€‚");
}
window.onload = init;
</script>
</body>
</html>
